<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Register - HutsGames</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css"
        integrity="sha384-HSMxcRTRxnN+Bdg0JdbxYKrThecOKuH5zCYotlSAcp1+c8xmyTe9GYg1l9a69psu" crossorigin="anonymous">
    <link rel="stylesheet" href="../styles.css">
    <link rel="stylesheet" href="./register.css">
    <script>
    const htmlEl = document.getElementsByTagName('html')[0];
    const currentTheme = localStorage.getItem('theme') ? localStorage.getItem('theme') : null;

    if (currentTheme) {
        htmlEl.dataset.theme = currentTheme;
    }

    const toggleTheme = (theme) => {
        htmlEl.dataset.theme = theme;
        localStorage.setItem('theme', theme);
    }
    </script>
    <script>
        if ( window.history.replaceState ) {
            window.history.replaceState( null, null, window.location.href );
        }
    </script>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
</head>

<body>
    <header>
        <div id="headerContainer">
            <div class="headerItem"><a href="../index.html"><img width="250" src="../images/logo-big.png" alt="HutsGames Logo"></a></div>
            <div class="headerItem" id="loginButtonContainer" style="text-align: right;">
                <a id="loginButton" class="button" onclick="toggleTheme('light');">Light</a>
                <a id="loginButton" class="button" onclick="toggleTheme('dark');">Dark</a>
                <a id="loginButton" class="button" href="#">Login</a>
                <a id="loginButton" class="button" href="">Register</a>
            </div>
        </div>
    </header>
    <h1 class="titleRegister">Sign up</h1>
    <div id="registerBoxContainer">
        <form action="" method="post">
            <input class="registerforminput arrow-togglable" autocomplete="off" type="text" placeholder="Username" name="username" id="userInput" required><br>
            <input class="registerforminput arrow-togglable emailBox" type="email" placeholder="Email address" name="email" id="emailInput" required><br>
            <input class="registerforminput arrow-togglable passwordBox" autocomplete="off" type="password" placeholder="Password" name="password" id="passwordInput" required></br>
            <input class="registerforminput arrow-togglable" autocomplete="off" type="password" placeholder="Confirm password" name="passwordConfirm" id="passwordConfirmInput" required></br>
            <input type="checkbox" id="TermsAcceptBox" name="TermsAcceptCheckbox" required>
            <label id="TermsAcceptBox" for="TermsAcceptBox"> I agree to the <a href="../terms-of-service.html" target="blank_">Terms of Service</a></label><br>
            <div id="CapsLockWarning" style="display: none;">Caps lock is on</div>
            <input class="registerButton" type="submit" name="submitRegisterForm" value="Register" id="registerClick">
            <p class="AlreadyRegistered">Already have an account? <a href="../log-in">Log in</a></p>
        </form>
    </div>
    <script type="text/javascript">
        document.querySelectorAll('input').forEach((input) => {
            input.addEventListener('blur', function() {
                this.classList.toggle('inputcompleted', this.value.length > 0);
            });
        });

        if ( window.history.replaceState ) {
            window.history.replaceState( null, null, window.location.href );
        }


    $(document).ready(
    function () {
        check_capslock_form($('#registerBoxContainer')); 
    }
 );
document.onkeydown = function (e) { 
    e = e || event;
    if (typeof (window.lastpress) === 'undefined') { window.lastpress = e.timeStamp; }
    if (typeof (window.capsLockEnabled) !== 'undefined') {
        if (e.keyCode == 20 && e.timeStamp > window.lastpress + 50) {
            window.capsLockEnabled = !window.capsLockEnabled;
            $('#CapsLockWarning').toggle();
        }
        window.lastpress = e.timeStamp;
    }

};
function check_capslock(e) { 
    var s = String.fromCharCode(e.keyCode);
    if (s.toUpperCase() === s && s.toLowerCase() !== s && !e.shiftKey) {
        window.capsLockEnabled = true;
        $('#CapsLockWarning').show();
    }
    else {
        window.capsLockEnabled = false;
        $('#CapsLockWarning').hide();
    }
}
function check_capslock_form(where) {
    if (!where) { where = $(document); }
    where.find('input,select').each(function () {
        if (this.type != "hidden") {
            $(this).keypress(check_capslock);
        }
    });
}
    </script>
</body>
</html>